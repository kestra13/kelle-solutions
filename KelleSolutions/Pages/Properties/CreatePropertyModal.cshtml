@model List<KeyValuePair<string, string>>

<!--
Date: 02/23/2025 
Updated CreatePropertyModal.cshtml to reflect new input fields for the updated Property model.
-->

<style>
    /* blur effect for background content when modal is open */
    .modal-backdrop {
        background-color: rgba(255, 255, 255, 0.2) !important; /* White opacity layer */
        backdrop-filter: blur(8px); /* blur effect */
    }
    /* ensure modal opens in the center of the viewport */
    .modal-dialog {
        display: flex;
        align-items: center;
        min-height: 100vh;
    }
    /* styled submit button */
    .submit-button {
        background: #4a154b;
        color: #ffffff;
        font-weight: bold;
        padding: 10px 20px;
        border-radius: 4px;
        border: none;
        width: auto;
        text-align: center;
        display: block;
        margin: 20px auto 0 auto;
        transition: background 0.3s ease;
    }
    .submit-button:hover {
        background: linear-gradient(90deg, #ecb22e, #e01e5a);
    }
    /* Custom dropdown arrow styling */
    .dropdown-arrow {
        appearance: none;
        background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black"><path d="M7 10l5 5 5-5z"/></svg>');
        background-repeat: no-repeat;
        background-position: right 10px center;
        background-size: 12px;
        padding-right: 30px; /* Space for the arrow */
    }
</style>

<div class="modal fade" id="AddPropertyModal" tabindex="-1" aria-labelledby="addPropertyModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-l modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addPropertyModalLabel">Add New Property</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="propertyForm">
                    <!-- Street -->
                    <div class="mb-3">
                        <label for="propertyStreet" class="form-label">Street</label>
                        <input type="text" class="form-control" id="propertyStreet" name="Street" required>
                    </div>

                    <!-- City, StateProvince, Postal -->
                    <div class="row">
                        <!-- City -->
                        <div class="col-md-4">
                            <label for="propertyCity" class="form-label">City</label>
                            <input type="text" class="form-control" id="propertyCity" name="City" required>
                        </div>
                        <!-- StateProvince -->
                        <div class="col-md-4">
                            <label for="propertyStateProvince" class="form-label">State/Province</label>
                            <input type="text" class="form-control" id="propertyStateProvince" name="StateProvince" required>
                        </div>
                        <!-- Postal -->
                        <div class="col-md-4">
                            <label for="propertyPostal" class="form-label">Postal Code</label>
                            <input type="text" class="form-control" id="propertyPostal" name="Postal" required>
                        </div>
                    </div>

                    <!-- Beds, Baths, Garages -->
                    <div class="row mt-3">
                        <!-- Beds -->
                        <div class="col-md-4">
                            <label for="bedCount" class="form-label">Bedrooms</label>
                            <input type="number" class="form-control" id="bedCount" name="Beds" min="0" required>
                        </div>
                        <!-- Baths -->
                        <div class="col-md-4">
                            <label for="bathCount" class="form-label">Bathrooms</label>
                            <input type="number" class="form-control" id="bathCount" name="Baths" min="0" required>
                        </div>
                        <!-- Garages -->
                        <div class="col-md-4">
                            <label for="garageCount" class="form-label">Garages</label>
                            <input type="number" class="form-control" id="garageCount" name="Garages" min="0" required>
                        </div>
                    </div>

                    <!-- Year Constructed and Property Type -->
                    <div class="row mt-3">
                        <!-- Year Constructed -->
                        <div class="col-md-6">
                            <label for="yearConstructed" class="form-label">Year Constructed</label>
                            <input type="number" class="form-control" id="yearConstructed" name="Constructed" min="1800" max="@DateTime.UtcNow.Year" required>
                        </div>
                        <!-- Property Type -->
                        <div class="col-md-6">
                            <label for="propertyType" class="form-label">Property Type</label>
                            <select class="form-control dropdown-arrow" id="propertyType" name="MyType" required>
                                <option value="">Select Property Type</option>
                                @foreach (var type in Model) {
                                    <option value="@type.Key">@type.Value</option>
                                }
                            </select>
                        </div>
                    </div>

                    <!-- Submit Button -->
                    <button type="submit" class="submit-button mt-3">Save</button>
                </form>
            </div>
        </div>
    </div>
</div>
